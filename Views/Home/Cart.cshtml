@model IEnumerable<ECommerce.Models.Cart>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="~/assets/css/cartstyle.css">
</head>
<body>
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success text-center">@TempData["Success"]</div>
    }
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger text-center">@TempData["Error"]</div>
    }

    <div class="cart-container" dir="rtl">
        <h1>سلتك </h1>

        <!-- Cart Item -->
        @foreach (var item in Model)
        {
            <div class="cart-item">
                <a href="/Home/productDetails/@item.ProductId">
                <div class="item-image">
                    <img src="https://localhost:62599/upload/@item.Product.Photo" alt="Product Image">
                    </div>
                </a>
                <div class="item-details m-3">
                    <h2>@item.Product.Name</h2>
                    <p>@item.Product.Description</p>
                    <div class="item-actions">
                        <div class="item-price">
                          <span>
                                <p> الكمية : @item.Qty</p>
                                <p> السعر : @(item.Product.Price * item.Qty) $</p>
                            </span>
                        </div>
                        <div class="quantity-selector">
                            <a href="/Home/RemoveProductFromCart/@item.ProductId">
                           <button class="btn btn-danger" value="submit">Remove</button>
                           </a>
                        </div>
                    </div>
                </div>
            </div>
        }


        <!-- End of Cart Item -->
        <form asp-action="addOrder" method="post" asp-controller="Home">
            <div class="form-row">
                <div class="form-group  d-flex" >
                    <input type="text" class="form-control" id="Name" name="Name" placeholder="الاسم" >
                    <input type="email" class="form-control" id="Email" name="Email" placeholder="الايميل" required>
                </div>
               <br />
            
            <div class="form-group">

                    <input type="text" class="form-control" id="Aderss" name="Aderss" placeholder="العنوان" required>
            </div>
           <br />
                <div class="form-group">

                    <input type="text" class="form-control" id="mobile" name="mobile" placeholder="رقم الهاتف" required>
                </div>
            </div>
           
                <div class="cart-summary">
                <h3>الاجمالي : $ @ViewBag.Total</h3>
                <hr />
                <h3>💳 معلومات البطاقة</h3>

                <div class="form-group d-flex mb-2">
                    <input type="text" class="form-control me-2" name="CardName" placeholder="الاسم على البطاقة" required />
                    <input type="text" class="form-control" name="CardNumber" placeholder="رقم البطاقة (16 رقم)" maxlength="16" required />
                </div>

                <div class="form-group d-flex mb-4">
                    <input type="text" class="form-control me-2" name="Expiry" placeholder="MM/YY" maxlength="5" required />
                    <input type="text" class="form-control" name="CVV" placeholder="CVV" maxlength="3" required />
                </div>

                <input class="checkout-btn" type="submit" value="اكمال الطلب" href="/Home/addOrder"></input>
            </div>
          
          
        </form>


      

       
    </div>
</body>
</html>
